{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<div class="panel">
  <h2>Profile</h2>
  <h3>Password</h3>
  <form method="GET" action="{% url "change_password" %}">
    <button type="submit" class="ui small positive button">Change User Password</button>
  </form>
  <h3>API Keys</h3>
  <form method="GET" action="{% url "api_keys_list" %}">
    <button type="submit" class="ui small positive button">Manage API Keys</button>
  </form>
  <h3>Programming language</h3>
  <form method="POST" action="{% url "set_prog_lang" %}">
    {% csrf_token %}
    <select name="prog_lang" style="min-width: 50px;min-height: 1em;margin: 0 .25em 0 0;padding: .78571429em 1.5em .78571429em;" autocomplete="off" >
      {% for lang, label in prog_langs.items %}
          <option value="{{ lang }}" 
            {% if profile.prog_lang == lang %}selected="selected"{% endif %}
            >
            {{ label }}
          </option>
        {% endfor %}
    </select>
    <button type="submit" class="ui small positive button">Submit</button>
  </form>
  <h3>Viewer Key</h3>
  Websocket Viewer Key: {{ profile.viewer_key }}
</div>
{% endblock %}
